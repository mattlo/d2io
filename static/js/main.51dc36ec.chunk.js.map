{"version":3,"sources":["state/actions/userToken.tsx","state/actions/profile.tsx","state/actions/manifest.tsx","state/globalContextState.tsx","constants.tsx","api/bungieApi.tsx","hooks/useGlobalState.tsx","util/inventoryUtil.tsx","util/presetUtil.tsx","components/ItemDisplay/ItemDisplay.tsx","App.tsx","components/Pages/LoadoutOptimizerPage/LoadoutOptimizerPage.tsx","components/Auth/Auth.tsx","components/Pages/Homepage/Homepage.tsx","components/Pages/OAuthCallbackPage/OAuthCallbackPage.tsx","hooks/useAppReducer.tsx","serviceWorker.js","index.js"],"names":["setUserAuth","accessToken","expiresIn","membershipId","membershipType","state","name","Date","now","window","localStorage","setItem","JSON","stringify","cachedUserAuth","parse","getItem","setProfile","data","setManifest","contentPath","version","setComponentContent","defaultState","reduce","obj","action","Error","AppStateContext","createContext","API_TOKEN","API_ROOT_PATH","bungieRequestHeaders","userAuth","location","href","Authorization","useGlobalState","useContext","shouldAddItem","exoticItem","item","itemHash","exotic","content","itemTypeDisplayName","hash","getStatBuild","items","combo","mobility","o","a","resilience","recovery","discipline","intellect","strength","total","width","length","ItemDisplay","stats","className","css","padEnd","map","index","statItems","statString","b","substr","join","key","displayProperties","authRoutes","dispatch","useState","isLoading","setIsLoading","mode","setMode","mainClass","setMainClass","setExotic","useEffect","manifest","Promise","all","axios","url","params","components","headers","then","profile","Response","jsonWorldComponentContentPaths","en","DestinyRecordDefinition","DestinyInventoryItemLiteDefinition","DestinyPowerCapDefinition","res","powerCapRes","powercaps","onModeChange","useCallback","e","target","value","onMainClassChange","onExotic","inventoryData","useMemo","profileInventory","Object","keys","componentContent","contentMap","vaultInventory","characterInventories","itemComponents","filter","itemInstanceId","equippingBlock","quality","uniqueLabel","classType","powerCap","versions","powerCapHash","getInventoryContent","categorizedItems","helmets","gauntlets","chests","legs","toString","forEach","push","filterAndCategorize","i","exotics","uniqBy","combos","helmet","gauntlet","chest","leg","set","totalFloor","n","presetPvPStandard","presetPvEStandard","sort","console","log","style","padding","label","options","onChange","Cmp","path","component","props","to","routes","history","useHistory","query","qs","search","code","method","grant_type","client_id","route","getAuthToken","auth","access_token","expires_in","membershipRes","destinyMemberships","exact","App","useReducer","Provider","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.51dc36ec.chunk.js","sourcesContent":["export interface IUserAuth {\n  name : string,\n  accessToken : string,\n  membershipId : string;\n  membershipType : string;\n  expiresIn : number;\n}\n\nexport default function setUserAuth(\n  accessToken = '',\n  expiresIn = 0,\n  membershipId = '',\n  membershipType = ''\n) : IUserAuth {\n  const state = {\n    name: 'userAuth',\n    accessToken: accessToken,\n    membershipId: membershipId,\n    expiresIn: Date.now() + (expiresIn * 1000),\n    membershipType : membershipType\n  };\n\n  if (accessToken) {\n    window.localStorage.setItem('userAuth', JSON.stringify(state));\n  }\n\n  // if no arguments provided, recall cached token\n  if (!accessToken) {\n    const cachedUserAuth = JSON.parse(window.localStorage.getItem('userAuth') || '{}');\n\n    return {\n      ...state,\n      ...cachedUserAuth\n    };\n  }\n\n  return state;\n}\n","export interface IManifest {\n  data : any\n  name : string;\n}\n\nexport function setProfile(data ?: any) : IManifest {\n  return {\n    name: 'profile',\n    ...data\n  };\n}\n","export interface IManifest {\n  contentPath : string;\n  version : string;\n  name : string;\n}\n\nexport function setManifest(data = {contentPath: '', version: ''}) : IManifest {\n  return {\n    name: 'manifest',\n    ...data\n  };\n}\n\nexport function setComponentContent(data : any) {\n  return {\n    name: 'componentContent',\n    ...data\n  }\n}\n","import {createContext} from 'react';\nimport setUserAuth from './actions/userToken';\nimport {setProfile} from './actions/profile';\nimport {setComponentContent, setManifest} from './actions/manifest';\n\nexport type TActionResponse = {name : string, [key : string] : any};\nexport type TAction = (...args : any[]) => TActionResponse;\n\n// register all actions here\nexport const actionList : TAction[] = [\n  setUserAuth,\n  setProfile,\n  setManifest,\n  setComponentContent\n];\n\nexport const defaultState = actionList.reduce((obj, action) => {\n  const {name, ...state} = action();\n\n  // validate key\n  if (!name) {\n    throw new Error('action must return a `type` value');\n  }\n\n  return {\n    ...obj,\n    // invoke default state\n    [name]: state\n  }\n}, {});\n\nexport const AppStateContext = createContext(defaultState);\n","export const API_TOKEN = 'f5a851a085ec464e8c1af199031b6aec';\nexport const API_CLIENT_ID = '3770';\nexport const API_ROOT_PATH = 'https://www.bungie.net/platform';\nexport const AUTH_URL = `https://www.bungie.net/en/OAuth/Authorize?client_id=${API_CLIENT_ID}&response_type=code`;\nexport const CLASS_TYPE_HUNTER = 1;\nexport const CLASS_TYPE_WARLOCK = 2;\nexport const CLASS_TYPE_TITAN = 0;\nexport const STAT_TYPE_INTELLECT = \"144602215\";\nexport const STAT_TYPE_MOBILITY = \"2996146975\";\nexport const STAT_TYPE_STRENGTH = \"4244567218\";\nexport const STAT_TYPE_DISCIPLINE = \"1735777505\";\nexport const STAT_TYPE_RECOVERY = \"1943323491\";\nexport const STAT_TYPE_RESILIENCE = \"392767087\";\n","import axios from 'axios';\nimport qs from 'query-string';\nimport {API_CLIENT_ID, API_ROOT_PATH, API_TOKEN, AUTH_URL} from '../constants';\nimport {IUserAuth} from '../state/actions/userToken';\n\nexport function httpBungie(route : string) {\n  return API_ROOT_PATH + route;\n}\n\nexport function bungieRequestHeaders(userAuth ?: IUserAuth) {\n  if (userAuth) {\n    const isTokenStale = userAuth.accessToken ? (Date.now() > userAuth.expiresIn) : true;\n\n    // immediately redirect if the token is stale\n    if (isTokenStale) {\n      window.location.href = '/d2io';\n    }\n\n    return {\n      'x-api-key': API_TOKEN,\n      Authorization: `Bearer ${userAuth.accessToken}`\n    };\n  }\n\n  return {\n    'x-api-key': API_TOKEN\n  };\n}\n\nexport function getAuthToken(code : string) {\n  return axios({\n    method: 'POST',\n    headers: {\n      ...bungieRequestHeaders(),\n      'content-type': 'application/x-www-form-urlencoded'\n    },\n    data: qs.stringify({\n      code,\n      grant_type: 'authorization_code',\n      client_id: API_CLIENT_ID\n    }),\n    url: httpBungie('/app/oauth/token/')\n  });\n}\n\nexport function getMembershipsForCurrentUser(userAuth : IUserAuth) {\n  return axios({\n    url: `${API_ROOT_PATH}/User/GetMembershipsForCurrentUser`,\n    headers: bungieRequestHeaders(userAuth)\n  });\n}\n\nexport function getProfile(userAuth : IUserAuth) {\n  return axios({\n    url: `https://www.bungie.net/Platform/Destiny2/${userAuth.membershipType}/Profile/${userAuth.membershipId}`,\n    params: {\n      components: '100,102,103,200,201,202,205,300,301,304,305,306,307,800,308,310,309,900,1100'\n    },\n    headers: bungieRequestHeaders(userAuth)\n  });\n}\n\nexport function getManifest() {\n  return axios({\n    url: `${API_ROOT_PATH}/Destiny2/Manifest`,\n    headers: bungieRequestHeaders()\n  });\n}\n\n","import {useContext} from 'react';\nimport {AppStateContext} from '../state/globalContextState';\n\nexport function useGlobalState() {\n  return useContext(AppStateContext) as any;\n}\n","import {\n  STAT_TYPE_DISCIPLINE,\n  STAT_TYPE_INTELLECT,\n  STAT_TYPE_MOBILITY, STAT_TYPE_RECOVERY, STAT_TYPE_RESILIENCE,\n  STAT_TYPE_STRENGTH\n} from '../constants';\n\nexport interface Item {\n\n}\n\nfunction shouldAddItem(exoticItem : any, item : any) {\n  // must be an exotic and a constant must be set (no constant leads to multi-exotic load outs)\n  // if a constant exists, non exotics of this type must be omitted\n  if (exoticItem.itemHash && item.exotic) {\n    if (item.itemHash === exoticItem.itemHash) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // filter anything that is taking up the same exotic slot\n  if (exoticItem.itemHash && !item.exotic && exoticItem.content.itemTypeDisplayName === item.content.itemTypeDisplayName) {\n    return false;\n  }\n\n  // if no hash is defined, exclude exotics from the pool\n  if (!exoticItem.hash && item.exotic) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function filterAndCategorize({powerCap, exoticItem, items, mainClass} : any) {\n  const helmets : any = [];\n  const gauntlets : any = [];\n  const chests : any = [];\n  const legs : any = [];\n\n  if (items.length === 0) {\n    return {helmets, gauntlets, chests, legs};\n  }\n\n  if (mainClass === '') {\n    return {helmets, gauntlets, chests, legs};\n  }\n\n  items\n    // filter by powercap\n    .filter((item : any) => item.powerCap >= powerCap)\n    // filter by class\n    .filter((item : any) => item.classType.toString() === mainClass.toString())\n    // map each item\n    .forEach((item : any) => {\n      switch (item.content.itemTypeDisplayName) {\n        case 'Helmet':\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n          shouldAddItem(exoticItem, item) ? helmets.push(item) : null;\n          break;\n        case 'Gauntlets':\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n          shouldAddItem(exoticItem, item) ? gauntlets.push(item) : null;\n          break;\n        case 'Chest Armor':\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n          shouldAddItem(exoticItem, item) ? chests.push(item) : null;\n          break;\n        case 'Leg Armor':\n          // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n          shouldAddItem(exoticItem, item) ? legs.push(item) : null;\n          break;\n      }\n    });\n\n  return {helmets, gauntlets, chests, legs};\n}\n\nexport function getInventoryContent(profile : any, contentMap : any) {\n  const vaultInventory = profile.profileInventory.data.items;\n  const characterInventories = Object.keys(profile.characterInventories.data)\n    .map(key => profile.characterInventories.data[key].items);\n\n  const stats = profile.itemComponents.stats.data;\n\n  const items = [\n    ...vaultInventory,\n    ...characterInventories\n  ];\n\n  return items\n    .filter(item => (\n      item.itemInstanceId\n      && contentMap[item.itemHash].equippingBlock\n      && contentMap[item.itemHash].quality\n      // must have an armor stat\n      && stats[item.itemInstanceId].stats[STAT_TYPE_INTELLECT]\n    ))\n    .map(item => ({\n      ...item,\n      content: contentMap[item.itemHash],\n      exotic: contentMap[item.itemHash].equippingBlock.uniqueLabel === 'exotic_armor',\n      classType: contentMap[item.itemHash].classType,\n      powerCap: contentMap.powercaps[contentMap[item.itemHash].quality.versions[0].powerCapHash].powerCap,\n      intellect: stats[item.itemInstanceId].stats[STAT_TYPE_INTELLECT].value,\n      mobility: stats[item.itemInstanceId].stats[STAT_TYPE_MOBILITY].value,\n      strength: stats[item.itemInstanceId].stats[STAT_TYPE_STRENGTH].value,\n      discipline: stats[item.itemInstanceId].stats[STAT_TYPE_DISCIPLINE].value,\n      recovery: stats[item.itemInstanceId].stats[STAT_TYPE_RECOVERY].value,\n      resilience: stats[item.itemInstanceId].stats[STAT_TYPE_RESILIENCE].value\n    }))\n}\n","export function getStatBuild(items : any[]) {\n  const combo = items;\n  const mobility = combo.reduce((o, a) => o + a.mobility, 0);\n  const resilience = combo.reduce((o, a) => o + a.resilience, 0);\n  const recovery = combo.reduce((o, a) => o + a.recovery, 0);\n  const discipline = combo.reduce((o, a) => o + a.discipline, 0);\n  const intellect = combo.reduce((o, a) => o + a.intellect, 0);\n  const strength = combo.reduce((o, a) => o + a.strength, 0);\n  const total = mobility + resilience + recovery + discipline + intellect + strength;\n\n  return {\n    mobility,\n    resilience,\n    recovery,\n    discipline,\n    intellect,\n    strength,\n    total\n  };\n}\n\nexport function presetPvPStandard(items : any[], totalFloor = 220) {\n  const {\n    mobility,\n    recovery,\n    discipline,\n    intellect,\n    strength,\n    total\n  } = getStatBuild(items);\n\n  return (\n    mobility <= 59\n    && recovery >= 60\n    // traction\n    && (mobility % 10) >= 5\n    // must all be moderate levels of stats\n    && [\n      (recovery % 10) <= 4,\n      (intellect % 10) <= 4,\n      (discipline % 10) <= 4,\n      (strength % 10) <= 4\n    ].filter(n => n).length >= 4\n\n    && total >= totalFloor\n  );\n}\n\nexport function presetPvEStandard(items : any[], totalFloor = 220) {\n  const {\n    mobility,\n    recovery,\n    discipline,\n    intellect,\n    strength,\n    total\n  } = getStatBuild(items);\n\n  return (\n    (recovery >= 60)\n    && (discipline >= 50)\n    && [\n      (mobility % 10) <= 4,\n      (recovery % 10) <= 4,\n      (intellect % 10) <= 4,\n      (discipline % 10) <= 4,\n      (strength % 10) <= 4\n    ].filter(n => n).length >= 4\n\n    && total >= totalFloor\n  );\n}\n","import React from 'react';\nimport {css} from 'react-emotion';\n\nconst divider = '---------------------------------------------------';\nconst width = divider.length;\n\nexport default function ItemDisplay({items, stats} : any) {\n  return (\n    <pre\n      className={css`\n        font-family: monospace;\n        color: #fff;\n        background: #000;\n        width: 500px;\n        padding: 10px;\n      `}\n    >\n      {`| ${'Stat Total'.padEnd(13, '.')}${stats.total} (max: 280)`.padEnd(width - 1) + '|'}\n      <br />\n      {`| `.padEnd(width - 1) + '|'}\n      <br />\n      {items.map((item : any, index : any) => {\n        const statItems = [\n          ['Mobility', item.mobility],\n          ['Resilience', item.resilience],\n          ['Recovery', item.recovery],\n          ['Discipline', item.discipline],\n          ['Intellect', item.intellect],\n          ['Strength', item.strength],\n        ];\n\n        const total = statItems.reduce((o : any, a : any) => o + a[1], 0);\n        const statString = statItems.map(([a, b] : any) => `${a.substr(0, 3)} ${b}`).join('  ');\n\n        return (\n          <div key={index}>\n            {`| [${item.content.itemTypeDisplayName}] ${item.content.displayProperties.name} (${total})`.padEnd(width - 1) + '|'}\n            <br />\n            {`| ${statString}`.padEnd(width - 1) + '|'}\n          </div>\n        );\n      })}\n    </pre>\n  )\n}\n","import React, {ComponentType, ReactNode} from 'react';\nimport '@blueprintjs/icons/lib/css/blueprint-icons.css';\nimport '@blueprintjs/core/lib/css/blueprint.css';\nimport {AppStateContext, defaultState} from './state/globalContextState';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport Homepage from './components/Pages/Homepage/Homepage';\nimport OAuthCallbackPage from './components/Pages/OAuthCallbackPage/OAuthCallbackPage';\nimport LoadoutOptimizerPage from './components/Pages/LoadoutOptimizerPage/LoadoutOptimizerPage';\nimport {withAuth} from './components/Auth/Auth';\nimport {useAppReducer} from './hooks/useAppReducer';\n\nexport type TRouteItem = [string, ComponentType];\n\nexport const authRoutes : TRouteItem[] = [\n  ['/d2io/optimizer', LoadoutOptimizerPage]\n].map(([path, component]) => ([\n  path as string,\n  withAuth(component) as ComponentType\n]));\n\nexport const routes : ReactNode[] = [\n  ['/d2io', Homepage],\n  ['/d2io/auth', OAuthCallbackPage],\n  ...authRoutes\n].map(([path, component] : any) => (\n  <Route\n    key={path}\n    component={component}\n    path={path}\n    exact\n  />\n));\n\nfunction App() {\n  const [state, dispatch] = useAppReducer();\n\n  return (\n    <AppStateContext.Provider value={{state: JSON.parse(JSON.stringify(state)), dispatch}}>\n      <Router>\n        <Switch>\n          {routes}\n        </Switch>\n      </Router>\n    </AppStateContext.Provider>\n  );\n}\n\nexport default App;\n","import React, {useCallback, useEffect, useMemo, useState} from 'react';\nimport {css} from 'react-emotion';\nimport uniqBy from 'lodash/uniqBy';\nimport {useGlobalState} from '../../../hooks/useGlobalState';\nimport {getManifest, getProfile} from '../../../api/bungieApi';\nimport {setComponentContent, setManifest} from '../../../state/actions/manifest';\nimport {setProfile} from '../../../state/actions/profile';\nimport axios from 'axios';\nimport {FormGroup, HTMLSelect, Spinner} from '@blueprintjs/core';\nimport {CLASS_TYPE_HUNTER, CLASS_TYPE_TITAN, CLASS_TYPE_WARLOCK} from '../../../constants';\nimport {filterAndCategorize, getInventoryContent} from '../../../util/inventoryUtil';\nimport {getStatBuild, presetPvEStandard, presetPvPStandard} from '../../../util/presetUtil';\nimport ItemDisplay from '../../ItemDisplay/ItemDisplay';\n\nexport default function LoadoutOptimizerPage() {\n  const {state, dispatch} = useGlobalState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [mode, setMode] = useState('');\n  const [mainClass, setMainClass] = useState('');\n  const [exotic, setExotic] = useState('');\n\n  // // get data\n  useEffect(() => {\n    // setIsLoading(false);\n    // return;\n\n    // if there's a version, do nothings\n    if (state.manifest.version) {\n      setIsLoading(false);\n      return;\n    }\n\n    Promise.all([\n      getProfile(state.userAuth),\n      getManifest()\n    ])\n      .then(([profile, manifest]) => {\n        dispatch(setManifest({\n          contentPath: manifest.data.Response.jsonWorldComponentContentPaths.en.DestinyRecordDefinition,\n          version: manifest.data.Response.version\n        }));\n\n        dispatch(setProfile({\n          data: profile.data.Response\n        }));\n\n        return Promise.all([\n          axios({\n            url: `https://www.bungie.net${manifest.data.Response.jsonWorldComponentContentPaths.en.DestinyInventoryItemLiteDefinition}`\n          }),\n          axios({\n            url: `https://www.bungie.net${manifest.data.Response.jsonWorldComponentContentPaths.en.DestinyPowerCapDefinition}`\n          })\n        ]);\n      })\n      .then(([res, powerCapRes]) => {\n        dispatch(setComponentContent({\n          ...res.data,\n          powercaps: powerCapRes.data\n        }))\n        setIsLoading(false);\n      });\n  }, [state.userAuth, state.manifest, setIsLoading]);\n\n  const onModeChange = useCallback((e) => setMode(e.target.value), []);\n  const onMainClassChange = useCallback((e) => {\n    setMainClass(e.target.value);\n    setExotic('')\n  }, []);\n  const onExotic = useCallback((e) => setExotic(e.target.value), []);\n\n  const inventoryData = useMemo(() => {\n    if (\n      !state.profile.data\n      || !state.profile.data.profileInventory\n      || Object.keys(state.componentContent).length === 0\n    ) {\n      return [];\n    }\n\n    return getInventoryContent(\n      state.profile.data,\n      state.componentContent\n    )\n  }, [state.profile, state.componentContent]);\n\n  const categorizedItems = filterAndCategorize({\n    powerCap: 1260,\n    exoticItem: inventoryData.filter(i => i.itemHash.toString() === exotic.toString())[0] || {},\n    items: inventoryData,\n    mainClass\n  })\n\n  const exotics = uniqBy(\n    inventoryData.filter(i => i.exotic && i.classType.toString() === mainClass.toString()),\n    item => item.itemHash\n  );\n\n  const {helmets, gauntlets, chests, legs} = categorizedItems;\n\n  const combos : any[] = useMemo(() => {\n    const items : any = [];\n\n    if (mode === 'PvP - Standard') {\n      helmets.forEach((helmet : any) => {\n        gauntlets.forEach((gauntlet : any) => {\n          chests.forEach((chest : any) => {\n            legs.forEach((leg : any) => {\n              const set = [helmet, gauntlet, chest, leg];\n              if (presetPvPStandard(set)) {\n                items.push(({\n                  set,\n                  stats: getStatBuild(set)\n                }));\n              }\n            });\n          });\n        });\n      });\n    }\n\n    if (mode === 'PvE - Standard') {\n      helmets.forEach((helmet : any) => {\n        gauntlets.forEach((gauntlet : any) => {\n          chests.forEach((chest : any) => {\n            legs.forEach((leg : any) => {\n              const set = [helmet, gauntlet, chest, leg];\n              if (presetPvEStandard(set)) {\n                items.push(({\n                  set,\n                  stats: getStatBuild(set)\n                }));\n              }\n            });\n          });\n        });\n      });\n    }\n\n    return items.sort((a : any, b : any) => b.stats.total - a.stats.total);\n  }, [helmets, gauntlets, chests, legs, mode]);\n\n\n  console.log(combos);\n\n  if (isLoading) {\n    return (\n      <div>\n        <Spinner className={css`justify-content: flex-start;`} />\n        Loading profile data...\n      </div>\n    )\n  }\n\n  return (\n    <div style={{padding: 15}}>\n      <div style={{width: 300}}>\n        <FormGroup label=\"Optimizer Presets\">\n          <HTMLSelect\n            options={['', 'PvP - Standard', 'PvE - Standard']}\n            onChange={onModeChange}\n            value={mode}\n          />\n        </FormGroup>\n        <FormGroup label=\"Class\">\n          <HTMLSelect\n            options={[\n              {label: '', value: ''},\n              {label: 'Titan', value: CLASS_TYPE_TITAN},\n              {label: 'Hunter', value: CLASS_TYPE_HUNTER},\n              {label: 'Warlock', value: CLASS_TYPE_WARLOCK}\n            ]}\n            onChange={onMainClassChange}\n            value={mainClass}\n          />\n        </FormGroup>\n        <FormGroup label=\"Exotic\">\n          <HTMLSelect\n            options={[\n              {label: '', value: ''},\n              ...exotics.map(item => ({\n                label: item.content.displayProperties.name,\n                value: item.itemHash\n              }))\n            ]}\n            onChange={onExotic}\n            value={exotic}\n          />\n        </FormGroup>\n        <FormGroup label=\"Power Cap Minimum\">\n          <strong>1260</strong>\n        </FormGroup>\n\n        <hr />\n      </div>\n\n      {combos.map(({set, stats}, index) => (\n        <ItemDisplay\n          key={index}\n          items={set}\n          stats={stats}\n        />\n      ))}\n    </div>\n  );\n}\n","import React from 'react';\nimport {useGlobalState} from '../../hooks/useGlobalState';\nimport {Redirect} from 'react-router';\n\nexport function withAuth(Cmp : any) {\n  return function Auth(props : any) {\n    const {state} = useGlobalState();\n\n    // if the token is expired, run refresh token call\n    const isTokenStale = state.userAuth.accessToken ? (Date.now() >= state.userAuth.expiresIn) : true;\n\n    // // if there's no access token, redirect to auth page\n    if (isTokenStale) {\n      return <Redirect to=\"/d2io\" />\n    }\n\n    return (\n      <Cmp {...props} />\n    );\n  }\n}\n","import React from 'react';\nimport {AnchorButton} from '@blueprintjs/core';\n\nexport default function Homepage() {\n  return (\n    <div>\n      <AnchorButton href=\"https://www.bungie.net/en/OAuth/Authorize?client_id=3770&response_type=code\">\n        Sync Destiny 2 Characters\n      </AnchorButton>\n    </div>\n  );\n}\n","import React, {useEffect} from 'react';\nimport qs from 'query-string';\nimport {Redirect, RouteComponentProps, useHistory} from 'react-router';\nimport {getMembershipsForCurrentUser, getAuthToken} from '../../../api/bungieApi';\nimport setUserAuth from '../../../state/actions/userToken';\nimport {useGlobalState} from '../../../hooks/useGlobalState';\n\nexport default function OAuthCallbackPage({location} : RouteComponentProps) {\n  const {dispatch, state} = useGlobalState();\n  const history = useHistory();\n\n  useEffect(() => {\n    const query : {code ?: string} = qs.parse(location.search);\n\n    if (query.code) {\n      getAuthToken(query.code || '')\n        .then((res) => {\n          const auth = setUserAuth(\n            res.data.access_token,\n            res.data.expires_in\n          );\n\n          return Promise.all([\n            res,\n            getMembershipsForCurrentUser(auth)\n          ])\n        })\n        .then(([res, membershipRes]) => {\n          dispatch(setUserAuth(\n            res.data.access_token,\n            res.data.expires_in,\n            membershipRes.data.Response.destinyMemberships[0].membershipId,\n            membershipRes.data.Response.destinyMemberships[0].membershipType\n          ));\n        });\n    }\n  }, [dispatch, location, history]);\n\n  const isTokenStale = (Date.now() > state.userAuth.expiresIn);\n\n  if (!isTokenStale) {\n    return <Redirect to=\"/d2io/optimizer\" />;\n  }\n\n  return (\n    <div>\n      authenticating...\n    </div>\n  );\n}\n","import {useReducer} from 'react';\nimport {defaultState, TActionResponse} from '../state/globalContextState';\n\nexport function useAppReducer() {\n  return useReducer((state : any, action : TActionResponse) => {\n    const {name, ...data} = action;\n\n    state[name] = data;\n\n    return JSON.parse(JSON.stringify(state));\n  }, defaultState);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}